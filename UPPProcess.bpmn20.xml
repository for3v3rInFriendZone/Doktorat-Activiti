<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <process id="myProcess" name="My process" isExecutable="true">
    <startEvent id="startevent1" name="Start" activiti:initiator="initiator">
      <extensionElements>
        <activiti:formProperty id="type" name="Vrsta zahteva" type="enum" variable="type" required="true">
          <activiti:value id="nabavka" name="Zahtev za nabavku kancelarijskog materijala"></activiti:value>
          <activiti:value id="boravak" name="Zahtev za odobrenje boravka na radnom mestu posle radnog vremena"></activiti:value>
          <activiti:value id="popravka" name="Zahtev za popravke"></activiti:value>
        </activiti:formProperty>
        <activiti:formProperty id="description" name="Dodatne informacije" type="text" variable="description"></activiti:formProperty>
      </extensionElements>
    </startEvent>
    <userTask id="odobravanje_zahteva_00" name="Odobravanje zahteva" activiti:assignee="${usersBoss}">
      <documentation>&lt;strong&gt;Vrsta zahteva:&lt;/strong&gt; ${type}
&lt;br /&gt;
&lt;strong&gt;Podnosilac zahteva:&lt;/strong&gt; ${starterUserTestToSee.firstName} ${starterUserTestToSee.lastName}
&lt;br /&gt;
&lt;br /&gt;
${description}</documentation>
      <extensionElements>
        <activiti:formProperty id="odobreno" name="Odobri zahtev" type="button" variable="odobreno"></activiti:formProperty>
        <activiti:formProperty id="odbaceno" name="Odbaci zahtev" type="button" variable="odbaceno"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <exclusiveGateway id="exclusivegateway1" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow2" sourceRef="odobravanje_zahteva_00" targetRef="exclusivegateway1"></sequenceFlow>
    <serviceTask id="obavestavanje_podnosioca_01" name="Obavestavanje podnosioca o odbijanju" activiti:type="mail">
      <extensionElements>
        <activiti:field name="to">
          <activiti:expression>${starterUserTestToSee.email}</activiti:expression>
        </activiti:field>
        <activiti:field name="subject">
          <activiti:string><![CDATA[Vaš zahtev je odbijen]]></activiti:string>
        </activiti:field>
        <activiti:field name="html">
          <activiti:expression>Nažalost, vaš zahtev sa rednim brojem ${execution.processInstanceId} je odbijen.</activiti:expression>
        </activiti:field>
      </extensionElements>
    </serviceTask>
    <sequenceFlow id="flow3" name="Zahtev odbijen" sourceRef="exclusivegateway1" targetRef="obavestavanje_podnosioca_01">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${odobreno != 'true' && odbaceno == 'true'}]]></conditionExpression>
    </sequenceFlow>
    <serviceTask id="obavestavanje_podnosioca_00" name="Obavestenje o uspehu" activiti:type="mail">
      <extensionElements>
        <activiti:field name="to">
          <activiti:expression>${starterUserTestToSee.email}</activiti:expression>
        </activiti:field>
        <activiti:field name="subject">
          <activiti:string><![CDATA[Vaš zahtev je uspešno postavljen]]></activiti:string>
        </activiti:field>
        <activiti:field name="html">
          <activiti:expression>Vaš zahtev je postavljen sa rednim brojem ${execution.processInstanceId}.</activiti:expression>
        </activiti:field>
      </extensionElements>
    </serviceTask>
    <userTask id="odobravanje_zahteva_01" name="Odobravanje zahteva od strane sefa zajednickih poslova" activiti:assignee="${mutualBoss}">
      <documentation>&lt;strong&gt;Vrsta zahteva:&lt;/strong&gt; ${type}
&lt;br /&gt;
&lt;strong&gt;Podnosilac zahteva:&lt;/strong&gt; ${starterUserTestToSee.firstName} ${starterUserTestToSee.lastName}
&lt;br /&gt;
&lt;br /&gt;
${description}</documentation>
      <extensionElements>
        <activiti:formProperty id="sectorBoss" name="Sef sektora" type="userList" variable="sectorBoss" required="true"></activiti:formProperty>
        <activiti:formProperty id="odbaceno" name="Odbaci zahtev" type="button" variable="odbaceno"></activiti:formProperty>
        <activiti:formProperty id="odobreno" name="Odobri zahtev" type="button" variable="odobreno"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <exclusiveGateway id="exclusivegateway2" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow9" name="Zahtev odbijen" sourceRef="exclusivegateway2" targetRef="obavestavanje_podnosioca_01">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${odobreno != 'true' && odbaceno == 'true'}]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="endevent1" name="End"></endEvent>
    <serviceTask id="mailtask1" name="Obavestavanje podnosioca o izvrsenju" activiti:type="mail">
      <extensionElements>
        <activiti:field name="to">
          <activiti:expression>${starterUserTestToSee.email}</activiti:expression>
        </activiti:field>
        <activiti:field name="subject">
          <activiti:string><![CDATA[Vaš zahtev je izvršen]]></activiti:string>
        </activiti:field>
        <activiti:field name="html">
          <activiti:expression>Vaš zahtev sa rednim brojem ${execution.processInstanceId} je uspešno izvršen.</activiti:expression>
        </activiti:field>
      </extensionElements>
    </serviceTask>
    <sequenceFlow id="flow26" sourceRef="odobravanje_zahteva_01" targetRef="exclusivegateway2"></sequenceFlow>
    <userTask id="usertask1" name="Odobravanje zahteva od strane sefa sektora" activiti:assignee="${sectorBoss}">
      <documentation>&lt;strong&gt;Vrsta zahteva:&lt;/strong&gt; ${type}
&lt;br /&gt;
&lt;strong&gt;Podnosilac zahteva:&lt;/strong&gt; ${starterUserTestToSee.firstName} ${starterUserTestToSee.lastName}
&lt;br /&gt;
&lt;br /&gt;
${description}</documentation>
      <extensionElements>
        <activiti:formProperty id="odobreno" name="Odobri zahtev" type="button" variable="odobreno"></activiti:formProperty>
        <activiti:formProperty id="odbaceno" name="Odbaci zahtev" type="button" variable="odbaceno"></activiti:formProperty>
        <activiti:formProperty id="edit" name="Izmeni" type="editButton" writable="false"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow27" name="Zahtev odobren" sourceRef="exclusivegateway2" targetRef="usertask1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${odobreno == 'true' && odbaceno != 'true'}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway3" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow28" sourceRef="usertask1" targetRef="exclusivegateway3"></sequenceFlow>
    <sequenceFlow id="flow29" name="Zahtev odbijen" sourceRef="exclusivegateway3" targetRef="obavestavanje_podnosioca_01">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${odobreno != 'true' && odbaceno == 'true'}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="usertask2" name="Podela zahteva na zadatke" activiti:assignee="${sectorBoss}">
      <documentation>&lt;strong&gt;Vrsta zahteva:&lt;/strong&gt; ${type}
&lt;br /&gt;
&lt;strong&gt;Podnosilac zahteva:&lt;/strong&gt; ${starterUserTestToSee.firstName} ${starterUserTestToSee.lastName}
&lt;br /&gt;
&lt;br /&gt;
${description}</documentation>
      <extensionElements>
        <activiti:formProperty id="split" name="Podeli na zadatke" type="editButton" writable="false"></activiti:formProperty>
        <activiti:formProperty id="izvrseno" name="Izvrsi" type="button" variable="izvrseno" default="false"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow30" sourceRef="exclusivegateway3" targetRef="usertask2">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${odobreno == 'true' && odbaceno != 'true'}]]></conditionExpression>
    </sequenceFlow>
    <subProcess id="subprocess1" name="Obrada zahteva">
      <multiInstanceLoopCharacteristics isSequential="false">
        <loopCardinality>#{subprocessTasksNo}</loopCardinality>
      </multiInstanceLoopCharacteristics>
      <startEvent id="startevent2" name="Start"></startEvent>
      <userTask id="izbor_izvrsioca_task" name="Izbor izvrsioca" activiti:assignee="${sectorBoss}">
        <documentation>${taskDescription}</documentation>
        <extensionElements>
          <activiti:formProperty id="izvrsioc" name="Izaberi izvrsioca" type="subordinateList" variable="izvrsioc" required="true"></activiti:formProperty>
          <activiti:formProperty id="izvrsiocDugme" name="Dodeli" type="button"></activiti:formProperty>
          <activiti:formProperty id="taskDescription" name="taskDescription" type="hidden" variable="taskDescription" required="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <userTask id="usertask5" name="Izvrsavanje zadatka" activiti:assignee="${izvrsioc}">
        <documentation>${taskDescription}</documentation>
        <extensionElements>
          <activiti:formProperty id="izvrsi" name="Izvrsi" type="button" required="true"></activiti:formProperty>
          <activiti:formProperty id="taskDescription" name="taskDescription" type="hidden" variable="taskDescription" required="true"></activiti:formProperty>
        </extensionElements>
      </userTask>
      <boundaryEvent id="boundarytimer1" name="Timer" attachedToRef="usertask5" cancelActivity="true">
        <timerEventDefinition>
          <timeDuration>PT1M</timeDuration>
        </timerEventDefinition>
      </boundaryEvent>
      <sequenceFlow id="flow37" sourceRef="boundarytimer1" targetRef="servicetask1"></sequenceFlow>
      <sequenceFlow id="flow38" sourceRef="servicetask1" targetRef="izbor_izvrsioca_task"></sequenceFlow>
      <endEvent id="endevent2" name="End"></endEvent>
      <serviceTask id="servicetask1" name="Zapis neizvrsenog zadatka" activiti:expression="#{unfinishedTasksService.addUnfinishedTask(izvrsioc)}" activiti:resultVariableName="izvrsioc"></serviceTask>
      <serviceTask id="servicetask5" name="Zapis izvrsenog zadatka" activiti:expression="#{unfinishedTasksService.addFinishedTask(izvrsioc)}" activiti:resultVariableName="izvrsioc"></serviceTask>
      <sequenceFlow id="flow51" sourceRef="usertask5" targetRef="servicetask5"></sequenceFlow>
      <sequenceFlow id="flow52" sourceRef="servicetask5" targetRef="endevent2"></sequenceFlow>
      <serviceTask id="servicetask6" name="Zapis novog zadatka" activiti:expression="#{unfinishedTasksService.addToDoTask(izvrsioc)}" activiti:resultVariableName="izvrsioc"></serviceTask>
      <sequenceFlow id="flow53" sourceRef="servicetask6" targetRef="usertask5"></sequenceFlow>
      <serviceTask id="servicetask10" name="Opis zadatka" activiti:expression="#{taskDescription}" activiti:resultVariableName="taskDescription"></serviceTask>
      <sequenceFlow id="flow63" sourceRef="izbor_izvrsioca_task" targetRef="servicetask10"></sequenceFlow>
      <sequenceFlow id="flow64" sourceRef="servicetask10" targetRef="servicetask6"></sequenceFlow>
      <scriptTask id="scripttask2" name="Opis zadatka" scriptFormat="javascript" activiti:autoStoreVariables="false">
        <script>execution.setVariable("taskDescription", "");</script>
      </scriptTask>
      <sequenceFlow id="flow65" sourceRef="startevent2" targetRef="scripttask2"></sequenceFlow>
      <sequenceFlow id="flow66" sourceRef="scripttask2" targetRef="izbor_izvrsioca_task"></sequenceFlow>
    </subProcess>
    <exclusiveGateway id="exclusivegateway4" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow40" sourceRef="usertask2" targetRef="exclusivegateway4"></sequenceFlow>
    <sequenceFlow id="flow41" name="izvrsenje" sourceRef="exclusivegateway4" targetRef="subprocess1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${izvrseno != 'true'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow42" name="licno izvrsenje" sourceRef="exclusivegateway4" targetRef="mailtask1">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${izvrseno == true}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow43" sourceRef="obavestavanje_podnosioca_00" targetRef="odobravanje_zahteva_00"></sequenceFlow>
    <sequenceFlow id="flow44" sourceRef="startevent1" targetRef="servicetask2"></sequenceFlow>
    <serviceTask id="servicetask2" name="Podesavanje inicijatora" activiti:expression="#{identityService.createUserQuery().userId(initiator).singleResult()}" activiti:resultVariableName="starterUserTestToSee"></serviceTask>
    <sequenceFlow id="flow45" sourceRef="servicetask2" targetRef="servicetask3"></sequenceFlow>
    <serviceTask id="servicetask3" name="Podesavanje sefa" activiti:expression="#{assigmentService.getUsersBoss(initiator)}" activiti:resultVariableName="usersBoss"></serviceTask>
    <sequenceFlow id="flow47" name="Zahtev odobren" sourceRef="exclusivegateway1" targetRef="servicetask4">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${odobreno == 'true' && odbaceno != 'true'}]]></conditionExpression>
    </sequenceFlow>
    <serviceTask id="servicetask4" name="Podesavanje sefa zajednickih poslova" activiti:expression="#{assigmentService.getBossOfGroup(&quot;zajednicki&quot;)}" activiti:resultVariableName="mutualBoss"></serviceTask>
    <sequenceFlow id="flow48" sourceRef="servicetask4" targetRef="odobravanje_zahteva_01"></sequenceFlow>
    <sequenceFlow id="flow49" sourceRef="servicetask3" targetRef="scripttask1"></sequenceFlow>
    <scriptTask id="scripttask1" name="Podesavanje varijabli" scriptFormat="javascript" activiti:autoStoreVariables="false">
      <script>execution.setVariable("odbaceno", "false");
execution.setVariable("odobreno", "false");
execution.setVariable("izvrseno", "false");</script>
    </scriptTask>
    <userTask id="usertask7" name="Potvrda od strane sefa sektora" activiti:assignee="${sectorBoss}">
      <documentation>&lt;strong&gt;Vrsta zahteva:&lt;/strong&gt; ${type}
&lt;br /&gt;
&lt;strong&gt;Podnosilac zahteva:&lt;/strong&gt; ${starterUserTestToSee.firstName} ${starterUserTestToSee.lastName}
&lt;br /&gt;
&lt;br /&gt;
${description}</documentation>
      <extensionElements>
        <activiti:formProperty id="potvrdi" name="Potvrdi" type="button" required="true"></activiti:formProperty>
      </extensionElements>
    </userTask>
    <sequenceFlow id="flow55" sourceRef="subprocess1" targetRef="usertask7"></sequenceFlow>
    <sequenceFlow id="flow56" sourceRef="usertask7" targetRef="mailtask1"></sequenceFlow>
    <serviceTask id="servicetask7" name="Zapis novog zahteva" activiti:expression="#{requestService.addToDoRequest(initiator)}"></serviceTask>
    <sequenceFlow id="flow57" sourceRef="scripttask1" targetRef="servicetask7"></sequenceFlow>
    <sequenceFlow id="flow58" sourceRef="servicetask7" targetRef="obavestavanje_podnosioca_00"></sequenceFlow>
    <serviceTask id="servicetask8" name="Zapis odbijenog zahteva" activiti:expression="#{requestService.addUnfinishedRequest(initiator)}"></serviceTask>
    <sequenceFlow id="flow59" sourceRef="obavestavanje_podnosioca_01" targetRef="servicetask8"></sequenceFlow>
    <sequenceFlow id="flow60" sourceRef="servicetask8" targetRef="endevent1"></sequenceFlow>
    <serviceTask id="servicetask9" name="Zapis izvrsenog zahteva" activiti:expression="#{requestService.addFinishedRequest(initiator)}"></serviceTask>
    <sequenceFlow id="flow61" sourceRef="servicetask9" targetRef="endevent1"></sequenceFlow>
    <sequenceFlow id="flow62" sourceRef="mailtask1" targetRef="servicetask9"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_myProcess">
    <bpmndi:BPMNPlane bpmnElement="myProcess" id="BPMNPlane_myProcess">
      <bpmndi:BPMNShape bpmnElement="startevent1" id="BPMNShape_startevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="-70.0" y="244.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="odobravanje_zahteva_00" id="BPMNShape_odobravanje_zahteva_00">
        <omgdc:Bounds height="71.0" width="105.0" x="190.0" y="222.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway1" id="BPMNShape_exclusivegateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="380.0" y="237.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="obavestavanje_podnosioca_01" id="BPMNShape_obavestavanje_podnosioca_01">
        <omgdc:Bounds height="81.0" width="105.0" x="348.0" y="380.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="obavestavanje_podnosioca_00" id="BPMNShape_obavestavanje_podnosioca_00">
        <omgdc:Bounds height="71.0" width="105.0" x="190.0" y="350.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="odobravanje_zahteva_01" id="BPMNShape_odobravanje_zahteva_01">
        <omgdc:Bounds height="81.0" width="153.0" x="489.0" y="50.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway2" id="BPMNShape_exclusivegateway2">
        <omgdc:Bounds height="40.0" width="40.0" x="681.0" y="70.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent1" id="BPMNShape_endevent1">
        <omgdc:Bounds height="35.0" width="35.0" x="383.0" y="604.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="mailtask1" id="BPMNShape_mailtask1">
        <omgdc:Bounds height="76.0" width="105.0" x="660.0" y="490.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask1" id="BPMNShape_usertask1">
        <omgdc:Bounds height="71.0" width="151.0" x="820.0" y="55.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway3" id="BPMNShape_exclusivegateway3">
        <omgdc:Bounds height="40.0" width="40.0" x="1050.0" y="70.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask2" id="BPMNShape_usertask2">
        <omgdc:Bounds height="71.0" width="105.0" x="1170.0" y="55.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="subprocess1" id="BPMNShape_subprocess1">
        <omgdc:Bounds height="511.0" width="401.0" x="1110.0" y="540.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startevent2" id="BPMNShape_startevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="1140.0" y="570.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="izbor_izvrsioca_task" id="BPMNShape_izbor_izvrsioca_task">
        <omgdc:Bounds height="55.0" width="105.0" x="1310.0" y="560.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask5" id="BPMNShape_usertask5">
        <omgdc:Bounds height="77.0" width="121.0" x="1157.0" y="734.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="boundarytimer1" id="BPMNShape_boundarytimer1">
        <omgdc:Bounds height="30.0" width="30.0" x="1240.0" y="740.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endevent2" id="BPMNShape_endevent2">
        <omgdc:Bounds height="35.0" width="35.0" x="1200.0" y="980.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask1" id="BPMNShape_servicetask1">
        <omgdc:Bounds height="71.0" width="105.0" x="1400.0" y="720.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask5" id="BPMNShape_servicetask5">
        <omgdc:Bounds height="71.0" width="105.0" x="1165.0" y="860.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask6" id="BPMNShape_servicetask6">
        <omgdc:Bounds height="55.0" width="121.0" x="1157.0" y="640.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask10" id="BPMNShape_servicetask10">
        <omgdc:Bounds height="55.0" width="105.0" x="1310.0" y="640.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask2" id="BPMNShape_scripttask2">
        <omgdc:Bounds height="55.0" width="105.0" x="1190.0" y="560.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway4" id="BPMNShape_exclusivegateway4">
        <omgdc:Bounds height="40.0" width="40.0" x="1290.0" y="278.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask2" id="BPMNShape_servicetask2">
        <omgdc:Bounds height="63.0" width="105.0" x="10.0" y="230.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask3" id="BPMNShape_servicetask3">
        <omgdc:Bounds height="55.0" width="105.0" x="10.0" y="358.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask4" id="BPMNShape_servicetask4">
        <omgdc:Bounds height="71.0" width="105.0" x="348.0" y="55.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="scripttask1" id="BPMNShape_scripttask1">
        <omgdc:Bounds height="70.0" width="121.0" x="2.0" y="475.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="usertask7" id="BPMNShape_usertask7">
        <omgdc:Bounds height="71.0" width="151.0" x="860.0" y="638.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask7" id="BPMNShape_servicetask7">
        <omgdc:Bounds height="55.0" width="121.0" x="182.0" y="482.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask8" id="BPMNShape_servicetask8">
        <omgdc:Bounds height="63.0" width="121.0" x="340.0" y="500.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="servicetask9" id="BPMNShape_servicetask9">
        <omgdc:Bounds height="63.0" width="121.0" x="500.0" y="590.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="295.0" y="257.0"></omgdi:waypoint>
        <omgdi:waypoint x="360.0" y="257.0"></omgdi:waypoint>
        <omgdi:waypoint x="380.0" y="257.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="400.0" y="277.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="380.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="71.0" x="410.0" y="277.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow9" id="BPMNEdge_flow9">
        <omgdi:waypoint x="701.0" y="110.0"></omgdi:waypoint>
        <omgdi:waypoint x="700.0" y="420.0"></omgdi:waypoint>
        <omgdi:waypoint x="453.0" y="420.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="71.0" x="711.0" y="110.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow26" id="BPMNEdge_flow26">
        <omgdi:waypoint x="642.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="681.0" y="90.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow27" id="BPMNEdge_flow27">
        <omgdi:waypoint x="721.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="820.0" y="90.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="77.0" x="677.0" y="90.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow28" id="BPMNEdge_flow28">
        <omgdi:waypoint x="971.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="1036.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="1050.0" y="90.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow29" id="BPMNEdge_flow29">
        <omgdi:waypoint x="1070.0" y="110.0"></omgdi:waypoint>
        <omgdi:waypoint x="1070.0" y="462.0"></omgdi:waypoint>
        <omgdi:waypoint x="513.0" y="462.0"></omgdi:waypoint>
        <omgdi:waypoint x="453.0" y="420.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="71.0" x="1080.0" y="110.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow30" id="BPMNEdge_flow30">
        <omgdi:waypoint x="1090.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="1170.0" y="90.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow37" id="BPMNEdge_flow37">
        <omgdi:waypoint x="1270.0" y="755.0"></omgdi:waypoint>
        <omgdi:waypoint x="1400.0" y="755.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow38" id="BPMNEdge_flow38">
        <omgdi:waypoint x="1452.0" y="720.0"></omgdi:waypoint>
        <omgdi:waypoint x="1452.0" y="587.0"></omgdi:waypoint>
        <omgdi:waypoint x="1415.0" y="587.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow51" id="BPMNEdge_flow51">
        <omgdi:waypoint x="1217.0" y="811.0"></omgdi:waypoint>
        <omgdi:waypoint x="1217.0" y="860.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow52" id="BPMNEdge_flow52">
        <omgdi:waypoint x="1217.0" y="931.0"></omgdi:waypoint>
        <omgdi:waypoint x="1217.0" y="980.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow53" id="BPMNEdge_flow53">
        <omgdi:waypoint x="1217.0" y="695.0"></omgdi:waypoint>
        <omgdi:waypoint x="1217.0" y="734.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow63" id="BPMNEdge_flow63">
        <omgdi:waypoint x="1362.0" y="615.0"></omgdi:waypoint>
        <omgdi:waypoint x="1362.0" y="640.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow64" id="BPMNEdge_flow64">
        <omgdi:waypoint x="1310.0" y="667.0"></omgdi:waypoint>
        <omgdi:waypoint x="1278.0" y="667.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow65" id="BPMNEdge_flow65">
        <omgdi:waypoint x="1175.0" y="587.0"></omgdi:waypoint>
        <omgdi:waypoint x="1190.0" y="587.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow66" id="BPMNEdge_flow66">
        <omgdi:waypoint x="1295.0" y="587.0"></omgdi:waypoint>
        <omgdi:waypoint x="1310.0" y="587.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow40" id="BPMNEdge_flow40">
        <omgdi:waypoint x="1275.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="1310.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="1310.0" y="278.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow41" id="BPMNEdge_flow41">
        <omgdi:waypoint x="1310.0" y="318.0"></omgdi:waypoint>
        <omgdi:waypoint x="1310.0" y="540.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="44.0" x="1320.0" y="357.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow42" id="BPMNEdge_flow42">
        <omgdi:waypoint x="1310.0" y="318.0"></omgdi:waypoint>
        <omgdi:waypoint x="1177.0" y="482.0"></omgdi:waypoint>
        <omgdi:waypoint x="712.0" y="490.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="69.0" x="1203.0" y="332.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow43" id="BPMNEdge_flow43">
        <omgdi:waypoint x="242.0" y="350.0"></omgdi:waypoint>
        <omgdi:waypoint x="242.0" y="293.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow44" id="BPMNEdge_flow44">
        <omgdi:waypoint x="-35.0" y="261.0"></omgdi:waypoint>
        <omgdi:waypoint x="10.0" y="261.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow45" id="BPMNEdge_flow45">
        <omgdi:waypoint x="62.0" y="293.0"></omgdi:waypoint>
        <omgdi:waypoint x="62.0" y="358.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow47" id="BPMNEdge_flow47">
        <omgdi:waypoint x="400.0" y="237.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="126.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="77.0" x="410.0" y="236.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow48" id="BPMNEdge_flow48">
        <omgdi:waypoint x="453.0" y="90.0"></omgdi:waypoint>
        <omgdi:waypoint x="489.0" y="90.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow49" id="BPMNEdge_flow49">
        <omgdi:waypoint x="62.0" y="413.0"></omgdi:waypoint>
        <omgdi:waypoint x="62.0" y="475.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow55" id="BPMNEdge_flow55">
        <omgdi:waypoint x="1110.0" y="795.0"></omgdi:waypoint>
        <omgdi:waypoint x="1079.0" y="673.0"></omgdi:waypoint>
        <omgdi:waypoint x="1011.0" y="673.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow56" id="BPMNEdge_flow56">
        <omgdi:waypoint x="860.0" y="673.0"></omgdi:waypoint>
        <omgdi:waypoint x="713.0" y="673.0"></omgdi:waypoint>
        <omgdi:waypoint x="712.0" y="566.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow57" id="BPMNEdge_flow57">
        <omgdi:waypoint x="123.0" y="510.0"></omgdi:waypoint>
        <omgdi:waypoint x="182.0" y="509.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow58" id="BPMNEdge_flow58">
        <omgdi:waypoint x="242.0" y="482.0"></omgdi:waypoint>
        <omgdi:waypoint x="242.0" y="421.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow59" id="BPMNEdge_flow59">
        <omgdi:waypoint x="400.0" y="461.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="500.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow60" id="BPMNEdge_flow60">
        <omgdi:waypoint x="400.0" y="563.0"></omgdi:waypoint>
        <omgdi:waypoint x="400.0" y="604.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow61" id="BPMNEdge_flow61">
        <omgdi:waypoint x="500.0" y="621.0"></omgdi:waypoint>
        <omgdi:waypoint x="418.0" y="621.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow62" id="BPMNEdge_flow62">
        <omgdi:waypoint x="712.0" y="566.0"></omgdi:waypoint>
        <omgdi:waypoint x="681.0" y="622.0"></omgdi:waypoint>
        <omgdi:waypoint x="621.0" y="621.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>